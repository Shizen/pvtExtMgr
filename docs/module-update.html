<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>pvtExtMgr Module: update</title>

	
	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.lumen.css">
	<link type="text/css" rel="stylesheet" href="styles/supplemental.css">
	
		<link type="text/css" rel="stylesheet" href="styles/shinmark.css">				
	
		<link type="text/css" rel="stylesheet" href="styles/local.css">				
	
</head>


<body>

<div class="navbar navbar-default navbar-fixed-top navbar-inverse">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html"><span>pvtExtMgr</span></a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-pvtExtMgr.html">pvtExtMgr</a></li><li><a href="module-update.html">update</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

    
        <h1 class="page-title">Module: update</h1>
        <section>
        
            <header>
                
            </header>

            <article>
                <div class="container-overview">
                    
                        
                        
                        















  

  

  
    
    <div class=description> 
      <div class=md>
<p>I hesitate to list this as its own module, but technically, that's the way it is defined.
<code>update</code> implements the core update features for the private extension update manager.
This module exports a single function which is the <code>update</code> function.  The function takes
the information necessary to test the semver information and potentially update one (and only
one) extension.  This function is called multiple times by the <code>pvtExtMgr</code> to update all the
extensions on its list.</p>
<div class="shinmark-sidebar"><span class="title">Test</span>
<ul>
<li>What happens when I do this?</li>
</ul>
</div>
<div class="shinmark-callout-warning">Or This?!?</div>
<p>I am getting <em>normal</em> markdown, but not shinmark.  Why?</p>

</div>
    </div>
  

  

  





<dl class="details">
	
	
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									


	

							
									
							
									
							
									
							
					
	

</dl>
                    
                </div>

                <div class="container-body">
                    
                    
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    
                                
                                    











  
  

  
  <h3 class=subsection-title> 
    methods
  </h3>

  





  

  

  
    
    
      
      
        


<hr>
<dt>
    <h4 class="name method-title-function" id="~emitFeedback">


<span class="type-signature">
  
    
      <span class="jsdoc-attrib-csl">
        &lt;inner> 
      </span>
  
</span>
emitFeedback(_sMessage, _level, _oError)</h4>
    
    
</dt>
<dd>
    

    
                    















  

  

  
    
    <div class=description> 
      <div class=md>
<p>This function encapsulates the feedback channel for <code>update</code> to its caller.  If this module
is being run from the render ui/extension thread, then <code>emitFeedback</code> will send notifications
directly to vscode &amp; the user.  Otherwise it will send messages to its parent via <code>stdout</code>
and <code>stderr</code>.</p>

</div>
    </div>
  

  

  




                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Parameters:
  </h5>

  





  

  

  
    
    
      

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_sMessage</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The message to emit</p>

</div></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_level</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The conceptual &quot;warn level&quot; of the feedback.  <code>1</code> is a &quot;finalizer&quot; message.  <code>4</code> are warnings.</p>

</div></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_oError</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>[Optional] The error object (if any)</p>

</div></td>
        </tr>

    
    </tbody>
</table>

    
  

  

  




                
                    

<dl class="details">
	
	
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									


	

							
									
							
									
							
									
							
					
	

</dl>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
    

    
</dd>

      
        


<hr>
<dt>
    <h4 class="name method-title-function" id="~getAvailableVersions">


<span class="type-signature">
  
    
      <span class="jsdoc-attrib-csl">
        &lt;inner> 
      </span>
  
</span>
getAvailableVersions(_parsedDesiredVersion, _sPath)</h4>
    
    
</dt>
<dd>
    

    
                    















  

  

  
    
    <div class=description> 
      <div class=md>
<p>This function will survey the specified remote repos for available versions, which it returns as an
array of version strings.  Versions are assumed to be stored as tags (lightweight or annotated).  This
function <em>does not</em> attempt to filter, validate or disambiguate these tags.</p>

</div>
    </div>
  

  

  




                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Parameters:
  </h5>

  





  

  

  
    
    
      

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_parsedDesiredVersion</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>A parsed url object</p>

</div></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_sPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The fully qualified path to the extension's directory</p>

</div></td>
        </tr>

    
    </tbody>
</table>

    
  

  

  




                
                    

<dl class="details">
	
	
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									


	

							
									
							
									
							
									
							
					
	

</dl>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Returns:
  </h5>

  





  

  

  
    
    
      
      
        
<div class="param-desc">
    <div class=md>
<p>An array of tags, including version strings defined on the specified repos.  This list is
not filtered.</p>

</div>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">array</span>



    </dd>
</dl>


      
    
  

  

  




                
                    
                
            
    

    
</dd>

      
        


<hr>
<dt>
    <h4 class="name method-title-function" id="~parseSourceLocVer">


<span class="type-signature">
  
    
      <span class="jsdoc-attrib-csl">
        &lt;inner> 
      </span>
  
</span>
parseSourceLocVer(_desiredVersion)</h4>
    
    
</dt>
<dd>
    

    
                    















  

  

  
    
    <div class=description> 
      <div class=md>
<p>This function will parse the provided string as a URL, returning an object describing its various
components including any specified semver specification.</p>

</div>
    </div>
  

  

  




                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Parameters:
  </h5>

  





  

  

  
    
    
      

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_desiredVersion</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The source string to parse</p>

</div></td>
        </tr>

    
    </tbody>
</table>

    
  

  

  




                
                    

<dl class="details">
	
	
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									


	

							
									
							
									
							
									
							
					
	

</dl>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Returns:
  </h5>

  





  

  

  
    
    
      
      
        
<div class="param-desc">
    <div class=md>
<p>An object describing the url to the source along with any semver specification.</p>

</div>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>



    </dd>
</dl>


      
    
  

  

  




                
                    
                
            
    

    
</dd>

      
        


<hr>
<dt>
    <h4 class="name method-title-function" id="~updateExtension">


<span class="type-signature">
  
    
      <span class="jsdoc-attrib-csl">
        &lt;inner> 
      </span>
  
</span>
updateExtension(_sPath, _oParsedRef, _sTag)</h4>
    
    
</dt>
<dd>
    

    
                    















  

  

  
    
    <div class=description> 
      <div class=md>
<p>This is the function which performs the actual update.  This is done via a series execSync calls to <code>git</code>
and <code>npm</code>.</p>

</div>
    </div>
  

  

  




                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Parameters:
  </h5>

  





  

  

  
    
    
      

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>_sPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The full qualified path to the extension's directory.</p>

</div></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_oParsedRef</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The parsed url.</p>

</div></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>_sTag</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><div class=md>
<p>The version to grab from the repos (assumed to exist).</p>

</div></td>
        </tr>

    
    </tbody>
</table>

    
  

  

  




                
                    

<dl class="details">
	
	
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									
							
									


	

							
									
							
									
							
									
							
					
	

</dl>
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    











  
  

  
  <h5 > 
    Returns:
  </h5>

  





  

  

  
    
    
      
      
        
<div class="param-desc">
    <div class=md>
<p>0 if the update was successful. 2 if fetch failed (probably bad git repos).  3 for a git checkout
failure (probably the repos has uncommitted changes).  4 for a git clean failure and 5 for an npm install failure.</p>

</div>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>


      
    
  

  

  




                
                    
                
            
    

    
</dd>

      
    
  

  

  




                                
                                    
                                
                                    
                                
                            
                    

                </div>
            </article>
        </section>
    



		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	`Private Extension Manager` Copyright © 2018 Shin
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on Tue Oct 30th 2018
	
	using the <a href="https://github.com/Shizen/shinstrap">shinstrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/shinstrap.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>




</body>
</html>